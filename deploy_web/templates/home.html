<!DOCTYPE html> 
<head> 
	<title> 
		Predicting Airbnb prices in NYC 
	</title> 
	<link rel="stylesheet" href="{{ url_for('static', filename='css/main2.css') }}">
</head> 
<!-- <body onload="load_neighbourhood_dropdown()"> -->
<body onload="load_neighbourhood_dropdown()">
<div class="home"> 
	<h1 style="color: green"> 
		Please select the details for the listing you want to make a price prediction on FF
	</h1> 
	<!-- show selection lists for each parameter for the Airbnb listing -->
	<p> 
		Select the neighbourhood group of your listing: 
		<select id="neighbourhood_group"> 
		<!--
			<option value="Bronx">Bronx</option> 
			<option value="Brooklyn">Brooklyn</option> 
			<option value="Manhattan">Manhattan</option> 
			<option value="Queens">Queens</option> 
			<option value="Staten Island">Staten Island</option> 
		-->
		</select> 
	</p> 
	<p> 
		<label for="minimum_nights">Minimum number of nights (1-1000):</label>

			<input type="number" id="minimum_nights" name="minimum_nights"
			min="1" max="1000">
	</p>

	
	<!-- button to invoke JS functions that assemble selected scoring parameters and link to show-prediction.html -->
	<button>
	<a onclick="link_with_args();" style="font-size : 20px; width: 100%; height: 100px;">Get prediction</a>
	</button>
	
	<!-- echo the link (including scoring parameters) to show-prediction.html -->
	<p> 
		The value of the option selected is: 
		<span class="output"></span> 
	</p> 
	

	
	<script type="text/javascript"> 
		function getOption() { 
			// load selections from HTML controls into JS variables
			selectElementNeighbourhoodGroup = document.querySelector('#neighbourhood_group'); 
			
					
			
			// load the values selected for the scoring parameters into JS variables 
			neighbourhood_group_string = selectElementNeighbourhoodGroup.options[selectElementNeighbourhoodGroup.selectedIndex].value
			// build complete URL, including scoring parameters, for the result display page
			prefix = "/show-prediction/?"
			window.output = prefix.concat("neighbourhood_group=",neighbourhood_group_string,"&minimum_nights=",minimum_nights)
			document.querySelector('.output').textContent = window.output; 
		} 
	</script> 
	<script>
	function link_with_args(){
	// call getOption to create the URL (including scoring parameters) from HTML control selections
	getOption();	
	console.log("in link_with_args");
	console.log(window.output);
	// specify the target of the link = the URL generated by getOption
	window.location.href = window.output;
	}		
	</script>
	<script>
	function load_neighbourhood_dropdown(){
	var select = document.getElementById("neighbourhood_group"); 
	var options = ["Bronx", "Brooklyn", "Manhattan", "Queens", "Staten Island"];
	// Populate list with options:
		for(var i = 0; i < options.length; i++) {
			var opt = options[i];
			select.innerHTML += "<option value=\"" + opt + "\">" + opt + "</option>";
		}
	};
	</script>
</div>
</body> 




</html>					 
